<project xmlns="http://maven.apache.org/POM/4.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
                      http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>

  <!-- The request-client module is a standard jar package of request classes
       used exclusively by the client -->

  <parent>
    <groupId>com.projectdarkstar.example.request</groupId>
    <artifactId>request</artifactId>
    <version>0.1-SNAPSHOT</version>
  </parent>

  <artifactId>request-client</artifactId>
  <name>Request Example Client</name>
  <packaging>jar</packaging>

  <dependencies>
    <!-- Compile time dependencies -->
    <dependency>
      <groupId>com.projectdarkstar.client</groupId>
      <artifactId>sgs-client-api</artifactId>
    </dependency>

    <!-- Runtime dependencies -->
    <dependency>
      <groupId>com.projectdarkstar.client</groupId>
      <artifactId>sgs-client</artifactId>
    </dependency>
  </dependencies>


  <build>
    <plugins>

      <!-- The antrun plugin is configured to run the app outside
	   of the build lifecycle via the command line.
	   However, the lifecycle must be run up through the generate-test-resources
	   phase for the necessary items to be in place for the app to run.
	   In order to run, use the following command:
	   mvn generate-test-resources antrun:run -->
      <plugin>
        <artifactId>maven-antrun-plugin</artifactId>
	<configuration>
	  <tasks>
	    <java classname="com.sun.sgs.example.request.client.WandererClient"
		  fork="true">
	      <jvmarg line="${run.jvm.args}"/>
	      <sysproperty key="java.util.logging.config.file"
			   file="${run.logging}"/>
	      <sysproperty key="com.sun.sgs.example.request.client.wanderer.host"
			   value="${wanderer.host}"/>
	      <sysproperty key="com.sun.sgs.example.request.client.wanderer.clients"
			   value="${wanderer.clients}"/>
	      <classpath>
		<path refid="maven.test.classpath"/>
	      </classpath>
	    </java>
	  </tasks>
	</configuration>
      </plugin>
      
    </plugins>

  </build>

  <properties>
    <run.jvm.args></run.jvm.args>
    <run.logging>${basedir}/src/test/properties/logging.properties</run.logging>
    <wanderer.host>localhost</wanderer.host>
    <wanderer.clients>10</wanderer.clients>
  </properties>


</project>
